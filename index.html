<!DOCTYPE html>

<html>

<head>
  <meta charset="UTF-8">
  <title>Hello World!</title>
  <script>
    function searchFrame() {
      const iframe = document.getElementById('outer-iframe');
      const iframeName = iframe.name;
      const searchText = document.getElementById('search').value;
      window.api.searchFrameInternal(searchText, iframeName, true);
    }
    function searchFrameNext() {
      const iframe = document.getElementById('outer-iframe');
      const iframeName = iframe.name;
      const searchText = document.getElementById('search').value;
      window.api.searchFrameInternal(searchText, iframeName, false);
    }
    function searchFrameStop() {
      const iframe = document.getElementById('outer-iframe');
      const iframeName = iframe.name;
      window.api.searchFrameInternalStop(iframeName);
    }
    window.onload = function() {
      const iframe = document.getElementById('outer-iframe');
      iframe.contentWindow.api = window.api;
    }
    document.addEventListener('keydown', onKeyDown);
    function onKeyDown(e) {
      if (e.code === 'F6') {
        searchFrame();
      } else if (e.code === 'F7') {
        searchFrameNext();
      } else if (e.code === 'F8') {
        searchFrameStop();
      }
    }
  </script>
</head>

<body>
  <h1>Hello World!</h1>

  <!-- All of the Node.js APIs are available in this renderer process. -->
  We are using Node.js
  <script>document.write(process.versions.node)</script>,
  Chromium
  <script>document.write(process.versions.chrome)</script>,
  and Electron
  <script>document.write(process.versions.electron)</script>.

  <div>
    <input type="text" id="search"></input>
    <button onclick="searchFrame()">Start Search</button>
    <button onclick="searchFrameNext()">Search Next</button>
    <button onclick="searchFrameStop()">Stop Search</button>
    <p>below is an iframe</p>
    <iframe name="my-search-iframe" id="outer-iframe" src="iframe-contents.html"
      style="display:block; border: 2px solid purple; background-color: white; width: 100%; height: 300px">
    </iframe>
  </div>
</body>

</html>